period:
  type: object
  properties:
    period-start:
      $ref: ./period-start.yaml
    period-end:
      $ref: ./period-start.yaml
  required:
    - period-start
    - period-end

proposal:
  type: object
  title: Forecasted Period
  description: |

    A Forecasted Period contains proposed limits for a power system object,
    e.g., a segment, that were forecasted for a particular Period in a Forecast
    Window. The status of the proposal as determined by the Clearinghouse is
    also included.

  allOf:
    - $ref: '#/period'
    - $ref: ./limit-proposal.yaml

seasonal-proposal:
  type: object
  title: Seasonal Period Proposal
  allOf:
    - $ref: '#/proposal'
    - type: object
      properties:
        season-name:
          type: string
          description: An optional name for the season.

seasonal-proposal-slim:
  type: array
  title: Seasonal Period Proposal slim
  items:
    type: array
    items:
      type: number

proposal-considered:
  type: object
  description: Details a proposal that was considered by the Clearinghouse run.
  allOf:
    - $ref: '#/proposal'
    - type: object
      properties:
        source:
          $ref: ./data-provenance.yaml
        proposal-disposition:
          description: |

            Despite a proposal being accepted by TROLIE, the downstream
            Clearinghouse logic may still disqualify a proposal. This might
            occur if, for example, the upper and lower reasonability limits are
            not aligned between TROLIE and the Clearinghouse.  To aid
            troubleshooting, the specification requires that TROLIE instances
            explicitly indicate if the proposal was `Used` in the determination
            of the limit or was `Rejected`.

          type: string
          enum:
            - Used
            - Rejected
      required:
        - source
        - proposal-disposition

snapshot-slim:
  allOf:
    - $ref: '#/period'
    - $ref: ./limit-data.yaml

snapshot-detailed:
  type: object
  description: Period detailed limits including provenance
  allOf:
    - $ref: '#/snapshot-slim'
    - $ref: ./limit-provenance.yaml
