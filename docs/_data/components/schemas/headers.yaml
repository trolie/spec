proposal-header: &header
  type: object
  description: |

    Populated by the Ratings Provider in a request. The Clearinghouse
    implementation should record this information, and the detail limits
    snapshot should should reflect the appropriate metadata from the
    Clearinghouse Provider's perspective.

  properties:
    source:
      $ref: ./data-provenance.yaml
    begins: &begins
      type: string
      description: |

        RFC 3339 date-time string with *no fractional seconds component* that
        must share the value of `period-start` for each individual resource
        proposal, identifying the appropriate operational window for this
        proposal.

      allOf:
        - $ref: ./period-start.yaml
    default-emergency-durations:
      $ref: ./array-max-emergency-durations.yaml#/emergency-durations
    power-system-resources:
      $ref: ./array-max-monitored-elements.yaml#/named-power-system-resources

  required:
    - source
    - begins
    - default-emergency-durations
    - power-system-resources
  additionalProperties: false

snapshot-header:
  <<: *header
  description: Details about the snapshot provided by the Clearinghouse provider.
  properties:
    last-updated:
      $ref: ./timestamp.yaml
    begins:
      <<: *begins
      description: |

        RFC 3339 date-time string with *no fractional seconds component* that
        Nominates the operational window of this snapshot.

    snapshot-provenance:
      $ref: ./data-provenance.yaml
    power-system-resources:
      $ref: ./array-max-monitored-elements.yaml#/named-power-system-resources
    default-emergency-durations:
      $ref: ./array-max-emergency-durations.yaml#/emergency-durations
  required:
    - last-updated
    - snapshot-provenance
    - power-system-resources
